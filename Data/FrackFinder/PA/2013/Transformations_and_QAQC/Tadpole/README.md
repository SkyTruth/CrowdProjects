Tadpole Transformations
=======================

Author: Kevin Wurster - <kevin@skytruth.org>
[GitHub Repository](https://github.com/SkyTruth/CrowdProjects)

An explanation of how the pad classifications generated by Tadpole were processed and turned
into MoorFrog input.



### General Description ###
1. Download tasks
2. Transform data
3. Sample/QAQC



1. Download Data
----------------

The data was split between two different applications, `public` and `internal`, each containing
half of the Tadpole input tasks.  Tasks were placed in:

>       ./tasks/public/*.json
>       ./tasks/internal/*.json



2. Transform Data
-----------------

Since all tasks were only completed in one location, the data can be combined, however we want
to be able to know where each task came from, so first we have to add a `ST_source` field.

>       CrowdProjects/bin/editJSON.py -a ST_source=public tasks/public/task.json tasks/added_fields/public/added-fields-task.json
>       CrowdProjects/bin/editJSON.py -a ST_source=public tasks/public/task_run.json tasks/added_fields/public/added-fields-task_run.json
>       CrowdProjects/bin/editJSON.py -a ST_source=internal tasks/internal/task.json tasks/added_fields/internal/added-fields-task.json
>       CrowdProjects/bin/editJSON.py -a ST_source=internal tasks/internal/task_run.json tasks/added_fields/internal/added-fields-task_run.json

After adding the source field, the data was combined into a single task.json and task_run.json:

>       CrowdProjects/bin/mergeFiles.py tasks/added_fields/public/added-fields-task.json tasks/added_fields/internal/added-fields-task.json tasks/combined-task.json  
>       CrowdProjects/bin/mergeFiles.py tasks/added_fields/public/added-fields-task_run.json tasks/added_fields/internal/added-fields-task_run.json tasks/combined-task_run.json

These combined files can now be converted into a single shapefile:

>       ./bin/tadpole-task2shp.py tasks/combined-task.json tasks/combined-task_run.json transform/stats/moorfrog-stats.shp --class=%ST_source



3. Sample/QAQC
--------------

100 random input tasks were examined for both the internal and public applications in order to
determine which tasks should be the input to MoorFrog.  The `moorfrog-stats.shp` file was queried
in order to constrain the tasks to those that should be sampled.  Tasks where the crowd's response
was evenly split across 2 or more answers will be put into MoorFrog in order to resolve the
ambiguity.  

SAMPLE 5% of each population